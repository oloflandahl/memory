(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,n,t){e.exports=t(390)},34:function(e,n,t){},380:function(e,n,t){},381:function(e,n,t){},382:function(e,n,t){},383:function(e,n,t){},384:function(e,n,t){},385:function(e,n,t){},386:function(e,n,t){},387:function(e,n,t){},388:function(e,n,t){},389:function(e,n,t){},390:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(19),s=t.n(c),o=(t(34),t(6)),i=t(7),l=t(11),u=t(8),m=t(12),f=t(4),d=t(5),O=t(22),E=function(e){return{type:"TOGGLE_LOCK_GAME",lock:e}},h={minNoOfCards:2,maxNoOfCards:20,minNoOfMatches:2,maxNoOfMatches:5},C={noOfCards:16,noOfMatches:2,limits:h,isValid:!0},v={isStarted:!1,isLocked:!1,isDone:!1,noOfSuccesses:0,noOfFails:0},g={id:null,name:null,icon:null,isActive:!1,isDone:!1,noStats:!1},p=t(2),N=[r.a.createElement(p.TiFlash,null),r.a.createElement(p.TiHeart,null),r.a.createElement(p.TiAnchor,null),r.a.createElement(p.TiHome,null),r.a.createElement(p.TiFlag,null),r.a.createElement(p.TiKey,null),r.a.createElement(p.TiCog,null),r.a.createElement(p.TiHeadphones,null),r.a.createElement(p.TiPen,null),r.a.createElement(p.TiLockClosed,null),r.a.createElement(p.TiNotes,null),r.a.createElement(p.TiGift,null),r.a.createElement(p.TiBell,null),r.a.createElement(p.TiLeaf,null)],b=function(e,n,t){return n<=e&&e<=t},S=function(e,n,t){return e=Math.min(e,t),Math.max(e,n)},A=function(e){var n=e.noOfCards,t=e.noOfMatches,a=N.length;t=S(t,h.minNoOfMatches,h.maxNoOfMatches),n=S(n,h.minNoOfCards,h.maxNoOfCards),n-=n%t;var r=Object.assign({},h,{minNoOfCards:Math.min(h.minNoOfCards,t),maxNoOfCards:Math.min(h.maxNoOfCards,t*a)});return n||(n=t),{noOfCards:n,noOfMatches:t,limits:r,isValid:b(n,r.minNoOfCards,r.maxNoOfCards)&&b(t,r.minNoOfMatches,r.maxNoOfMatches)&&n%t===0}},T=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"END_GAME":return C;case"SET_NO_OF_CARDS":return e=Object.assign({},n,{noOfCards:t.noOfCards}),Object.assign(e,A(e));case"SET_NO_OF_MATCHES":return e=Object.assign({},n,{noOfMatches:t.noOfMatches}),Object.assign(e,A(e));default:return n}},M=function(e,n){return Object.assign({},g,{id:e,name:"Card "+e,icon:N[e%n]})},_=function(e,n){for(var t=[],a=1;a<=e;a++)t.push(M(a,n));return function(e){for(var n,t,a=e.length;0!==a;)t=Math.floor(Math.random()*a),n=e[--a],e[a]=e[t],e[t]=n;return e}(t)},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=(e=function(e,n){return e=Math.abs(e),e-=e%n}(e,n))/n;return t>N.length&&(e=(t=N.length)*n),_(e,t)},k=function(e,n){return n=!e.isDone&&n||!1,Object.assign({},e,{isActive:n})},j=function(e,n){return e.filter(function(e){return e.icon===n}).length},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"START_GAME":return Object.assign({},v,{isStarted:!0,startTime:new Date});case"END_GAME":return Object.assign({},e,{isStarted:!1,isDone:!1});case"CLEAR_STATE":return Object.assign({},e,{noStats:!0});case"TOGGLE_LOCK_GAME":return Object.assign({},e,{isLocked:n.lock||!1});case"DEACTIVATE_CARDS":return Object.assign({},e,{noOfFails:e.noOfFails+1});case"CARD_ICON_TO_DONE":return Object.assign({},e,{noOfSuccesses:e.noOfSuccesses+1});default:return e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"START_GAME":return D(n.noOfCards,n.noOfMatches);case"END_GAME":return[];case"ACTIVATE_CARD":return e.map(function(e){return k(e,e.isActive||e.id===n.id)});case"DEACTIVATE_CARDS":return e.map(function(e){return k(e,!1)});case"CARD_ICON_TO_DONE":return e.map(function(e){return function(e,n){var t=!n&&e.isActive;return Object.assign({},e,{isDone:n||!1,isActive:t})}(e,e.isDone||e.icon===n.cardIcon)});default:return e}},G=Object(f.c)({gameNumbers:T,gameState:x,cards:y}),I=t(23),w=t.n(I),R=t(24),L=t.n(R),V=t(9),F=t.n(V),B=t(10),U=t.n(B),H=t(25),z=t.n(H),K=t(26),J=t.n(K),q=(t(380),function(e){function n(){return Object(o.a)(this,n),Object(l.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(i.a)(n,[{key:"onDecrement",value:function(){this.setValue(this.props.value-this.props.step)}},{key:"onIncrement",value:function(){this.setValue(this.props.value+this.props.step)}},{key:"setValue",value:function(e){this.props.onChange({target:{value:e}})}},{key:"render",value:function(){return r.a.createElement("div",{className:"input-container"},r.a.createElement("label",null,this.props.icon),r.a.createElement("div",{className:"input-content"},r.a.createElement("span",{className:"icon",onClick:this.onDecrement.bind(this)},r.a.createElement(J.a,null)),r.a.createElement("input",{type:"number",value:this.props.value,onChange:this.props.onChange,min:this.props.min,max:this.props.max,step:this.props.step,readOnly:!0}),r.a.createElement("span",{className:"icon",onClick:this.onIncrement.bind(this)},r.a.createElement(z.a,null))))}}]),n}(r.a.Component)),P=function(e){var n=e.showStartControls,t=e.gameNumbers,a=e.onChangeNoOfCards,c=e.onChangeNoOfMatches;return n?r.a.createElement("div",null,r.a.createElement(q,{icon:r.a.createElement(U.a,null),value:t.noOfCards,onChange:a,min:t.noOfMatches,max:t.limits.maxNoOfCards,step:t.noOfMatches}),r.a.createElement(q,{icon:r.a.createElement(F.a,null),value:t.noOfMatches,onChange:c,min:t.limits.minNoOfMatches,max:t.limits.maxNoOfMatches,step:1})):null},Q=(t(381),function(e){var n=e.isGameActive,t=e.noOfUsedIcons,a={width:100*e.gameState.noOfSuccesses/t+"%"};return n?r.a.createElement("div",{className:"progress-container"},r.a.createElement("div",{className:"progress",style:a})):null}),W=(t(382),function(e){var n=e.isGameActive,t=e.noOfUsedIcons,a=e.gameState;return n?r.a.createElement("div",{className:"stats-container"},r.a.createElement("span",{className:"stat"},a.noOfSuccesses),"/",r.a.createElement("span",{className:"stat"},t)):null}),X=(t(383),function(e){var n=e.showStartControls,t=e.isGameActive,a=e.gameNumbers,c=e.noOfUsedIcons,s=e.gameState,o=e.onChangeNoOfCards,i=e.onChangeNoOfMatches,l=e.onStartGame,u=e.onRestartGame,m=t?r.a.createElement("span",{className:"action-icon",onClick:u.bind(void 0)},r.a.createElement(L.a,null)):r.a.createElement("span",{className:"action-icon",onClick:l.bind(void 0,a.noOfCards,a.noOfMatches),disabled:!a.isValid},r.a.createElement(w.a,null));return r.a.createElement("div",{className:"menu-container"},r.a.createElement("div",null,r.a.createElement(P,{showStartControls:n,gameNumbers:a,onChangeNoOfCards:o,onChangeNoOfMatches:i,onStartGame:l}),r.a.createElement(Q,{isGameActive:t,noOfUsedIcons:c,gameState:s}),r.a.createElement(W,{isGameActive:t,gameState:s,noOfUsedIcons:c})),r.a.createElement("div",null,m))}),Y=Object(d.b)(function(e){var n=e.gameState,t=n.isStarted,a=n.isDone;return{showStartControls:!t,isGameActive:t&&!a,gameState:n,gameNumbers:e.gameNumbers,noOfUsedIcons:e.gameNumbers.noOfCards/e.gameNumbers.noOfMatches}},function(e,n){return{onChangeNoOfCards:function(n){var t=parseInt(n.target.value,10)||0;e(function(e){return{type:"SET_NO_OF_CARDS",noOfCards:e}}(t))},onChangeNoOfMatches:function(n){var t=parseInt(n.target.value,10)||0;e(function(e){return{type:"SET_NO_OF_MATCHES",noOfMatches:e}}(t))},onStartGame:function(n,t){e(function(e,n){return{type:"START_GAME",noOfCards:e,noOfMatches:n}}(n,t))},onRestartGame:function(){e({type:"END_GAME"})}}})(X),Z=(t(384),function(e){var n=e.onClick,t=(e.name,e.isActive),a=e.isDone,c=e.isLocked,s=e.icon,o=e.size,i="card"+(t||a?" open":"")+(a?" done":"")+(c?" locked":"");return r.a.createElement("div",{className:"card-container",style:o},r.a.createElement("div",{className:i,onClick:n},r.a.createElement("div",{className:"front"},r.a.createElement("span",{className:"icon"},s)),r.a.createElement("div",{className:"back"})))}),$=function(e){return e?Math.floor(e/60):0},ee=function(e){return e%60},ne=function(e){return"00".substring(0,2-e.length)+e},te=(t(385),function(e){var n=e.children,t=e.area,a=e.color,c=e.text,s={gridArea:t,color:a};return r.a.createElement("div",{className:"done-item",style:s},n," ",r.a.createElement("span",{className:"done-item-text"},c))}),ae=(t(386),t(17)),re=t.n(ae),ce=t(27),se=t.n(ce),oe=t(28),ie=t.n(oe),le=function(e){var n=e.doneStats,t=e.onCloseDoneBoxClick,a="done-box-container";n?a+=" in":n={};var c=function(e){var n=$(e);return e=ee(e),[$(n),n=ee(n),e].map(function(e){return ne(e.toString())}).join(":")}(n.seconds),s=n&&n.noOfSuccesses?r.a.createElement("div",{className:"done-box"},r.a.createElement("div",{className:"done-box-inner"},r.a.createElement(te,{area:"cards",text:n.noOfCards},r.a.createElement(U.a,null)),r.a.createElement(te,{area:"matches",text:n.noOfMatches},r.a.createElement(F.a,null)),r.a.createElement("br",null),r.a.createElement(te,{area:"success",color:"#afa",text:n.noOfSuccesses},r.a.createElement(se.a,null)),r.a.createElement(te,{area:"fail",color:"#faa",text:n.noOfFails},r.a.createElement(re.a,null)),r.a.createElement("br",null),r.a.createElement(te,{area:"time",text:c},r.a.createElement(ie.a,null))),r.a.createElement("span",{className:"close-icon",onClick:t},r.a.createElement(re.a,null))):null;return r.a.createElement("div",{className:a},s)},ue=(t(387),function(e){var n=e.cards,t=e.onCardClick,a=e.onCloseDoneBoxClick,c=e.size,s=e.doneStats,o=e.isLocked,i=n.map(function(e){return r.a.createElement(Z,Object.assign({key:e.id},e,{onClick:function(){return t(e.id)},size:c,isLocked:o}))});return r.a.createElement("div",{className:"cards-container"},r.a.createElement(le,{doneStats:s,onCloseDoneBoxClick:a}),i)}),me=Object(d.b)(function(e){var n,t,a=e.cards.length,r=function(e){return 100/Math.ceil(Math.sqrt(e))}(a)+"%",c=a>0&&e.cards.filter(function(e){return e.isDone}).length===a&&!e.gameState.noStats?Object.assign({},e.gameNumbers,e.gameState,{seconds:(n=e.gameState.startTime,t=new Date,Math.round((t-n)/1e3))}):null;return{cards:e.cards,doneStats:c,isLocked:e.gameState.isLocked,size:{width:r,height:r}}},function(e,n){return{onCardClick:function(n){e(function(e){return function(n,t){var a=t(),r=a.gameState,c=a.cards;if(!r.isLocked&&r.isStarted){var s=function(e,n){return e.filter(function(e){return e.id===n})[0]}(c,e);if(!s.isActive){n(function(e){return{type:"ACTIVATE_CARD",id:e}}(e));var o=j(c,s.icon),i=function(e){return e.filter(function(e){return e.isActive})}(c);i.length===o-1&&(n(E(!0)),j(i,s.icon)===o-1?setTimeout(function(){n(E(!1)),n({type:"CARD_ICON_TO_DONE",cardIcon:s.icon})},500):setTimeout(function(){n(E(!1)),n({type:"DEACTIVATE_CARDS"})},2e3))}}}}(n))},onCloseDoneBoxClick:function(){e({type:"CLEAR_STATE"})}}})(ue),fe=(t(388),function(){return r.a.createElement("div",{className:"container"},r.a.createElement(Y,null),r.a.createElement(me,null))}),de=(t(389),Object(f.d)(G,Object(f.a)(O.a))),Oe=function(e){function n(){return Object(o.a)(this,n),Object(l.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement(d.a,{store:de},r.a.createElement(fe,null))}}]),n}(a.Component);s.a.render(r.a.createElement(Oe,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.25200a57.chunk.js.map